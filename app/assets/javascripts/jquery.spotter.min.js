/* 
 * jquery.spotter.js, version 1.0a
 * Copyright 2014-2015, Charlton Cheng
 * Github: github.com/charltonc/jquery-spotter
 * License: http://www.opensource.org/licenses/mit-license.php 
 */
!function(a,b,c){"use strict";function d(a,b,c){if(typeof a===b)return a;if("undefined"!=typeof a&&typeof a!==b&&"undefined"!=typeof c)throw c;return"undefined"==typeof a?!1:void 0}function e(a,b){var d,e,f,g;if(a){if(d=c._data(a,"events"),"undefined"==typeof d||"undefined"==typeof d[b])return!1;for(e=d[b],f=e.length;f>0;f--)if(g=e[f-1],"spotter"===g.namespace)return e[f-1].guid}}function f(a,b,c){var d;if(!(a.length>0))return!1;for(d=0;d<a.length;d++)if(a[d][b]===c)return d}function g(a){var b;for(b in a)a[b]=null,delete a[b]}function h(a,b){return a.eq(b)}function i(a,b,c){return a.find('a[href="#'+c+'"]').parent()}function j(a){return a[0].offsetTop}function k(a){return a.offset().top}function l(a,b,c){a.pluginEnabled||(this.config.pluginEnabled=a.pluginEnabled=!0,c({data:[a,b]}))}function m(a){a.pluginEnabled&&(this.config.pluginEnabled=a.pluginEnabled=!1,c(a.menuList+"."+a.menuListClass).removeClass(a.menuListClass))}function n(b,d){var e=c._data(d.scrollContainer,"events").scroll,h=c._data(d.scrollContainer,"events").resize;c(b.menuList+"."+b.menuListClass).removeClass(b.menuListClass),c._data(d.scrollContainer,"events").scroll.splice(f(e,"guid",b.indexScrollEvt),1),c._data(a,"events").resize.splice(f(h,"guid",b.indexResizeEvt),1),p.splice(f(p,"menuList",b.menuList),1),g(this)}function o(a){var b,d,e,f,g,h,i,j,k,l,m=a.data[0],n=a.data[1];return o.working||!m.pluginEnabled?!1:(n.working=!0,b=c(m.menuList),e=c(m.contentList),l=b.length<=e.length?b.length:e.length,l>1&&setTimeout(function(){for(h=c(n.scrollContainer).scrollTop(),k=0;l>k;k++){if(f=e.eq(k),g=e[k].style,i=n.getContentTop(f),j=i+f.outerHeight(!1),d=n.getMatchMenu(b,k,e[k].id),j>=h&&h>=i&&"none"!==g.display&&"hidden"!==g.visibility){c(m.menuList+"."+m.menuListClass).removeClass(m.menuListClass),d.addClass(m.menuListClass);break}d.removeClass(m.menuListClass)}n.working=!1},m.delay),void 0)}if("undefined"==typeof c)throw new Error("jQuery is required for jQuery Scout plugin to work.");var p=[];c.fn.spotter="undefined"!=typeof jQuery.fn.spotter?c.fn.spotter:function(f){var g,q,r,s;if(f.constructor===Object&&"object"==typeof f){if(r={menuList:"selector"in this&&this.selector?this.selector:d(f.menuList,"string","The value of config's menuList must be a string of css selector"),menuListClass:d(f.menuListClass,"string","The value of config's menuListClass must be a string of one or more space separate class names"),contentList:d(f.contentList,"string","The value of config's contentList must be a string of css selector"),scrollContainer:d(f.scrollContainer,"string","The value of config's scrollContainer must be a string of css selector"),matchByHash:d(f.matchByHash,"boolean","The value of config's matchByHash must be a boolean"),delay:d(f.delay,"number","The value of config's delay must be a positive integer indicating time in ms")&&f.delay>50?f.delay:50,indexScrollEvt:0,indexResizeEvt:0,pluginEnabled:!0},g=p.length>0?function(){for(q=0;q<p.length;q++)if(r.menuList===p[q].menuList||r.contentList===p[q].contentList)return!0}():!1)throw"either "+r.menuList+"or "+r.contentList+" is already bound";if(r.scrollContainer&&"iframe"===b.querySelector(r.scrollContainer).tagName.toLowerCase())throw new Error("the scroll container should not be an iframe element ");return s={scrollContainer:r.scrollContainer?b.querySelector(r.scrollContainer):a,getMatchMenu:r.matchByHash?i:h,getContentTop:r.scrollContainer?j:k,working:!1},c(a).on("resize.spotter",[r,s],o),c(s.scrollContainer).on("scroll.spotter",[r,s],o),o({data:[r,s]}),r.indexResizeEvt=e(a,"resize"),r.indexScrollEvt=e(s.scrollContainer,"scroll"),p.push(r),{config:c.extend(!1,{},r),enable:function(){l.call(this,r,s,o)},disable:function(){m.call(this,r)},destroy:function(){n.call(this,r,s)}}}throw new Error("passed argument should be an object")}}(window,document,jQuery);
//# sourceMappingURL=jquery.spotter.min.js.map